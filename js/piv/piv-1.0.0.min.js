var correctValidations;var formName;var validationsRequired;function initValidation(idForm){correctValidations=0;formName=idForm;$('#'+idForm).toggle();if($('#'+idForm).css('display')=='block'){var ValidationsObjective=0;$('#'+idForm).find('input').each(function(){if($(this).attr('data-status')){ValidationsObjective++}});validationsRequired=ValidationsObjective}
else{$('#'+idForm+' input[type=text]').val('');$('#'+idForm+' input[data-status]').attr('data-status','no');$('#'+idForm+'Button').prop('disabled',!0);$('[id$=Error]').empty()}}
$('input[type=text]').focusout(function(){field=new Piv($(this).val(),$(this).attr('data-required'),$(this).attr('data-type'));var mensajeError='';mensajeError=field.validation();$(this).siblings('#'+$(this).attr('name')+'Error').html(mensajeError);if(mensajeError==''){if($(this).attr('data-status')){$(this).attr('data-status','yes')}}
else{if($(this).attr('data-status')){$(this).attr('data-status','no')}}
correctValidations=$('[data-status=yes]').length;if(validationsRequired==correctValidations){$('#'+formName+'Button').prop('disabled',!1)}
else{$('#'+formName+'Button').prop('disabled',!0)}});$('input').keydown(function(){$(this).siblings('#'+$(this).attr('name')+'Error').empty();$(this).removeClass('inputError')});function Piv(value,valueRequired,type){this.value=value;this.valueRequired=valueRequired;this.type=type}
Piv.prototype.validation=function(){var mensaje='';if((this.valueRequired)&&(this.value=='')){mensaje='Este campo es obligatorio'}
else{if(this.type=='DNI'){if(!/^\d{8}[a-zA-Z]$/.test(this.value)){mensaje='El formato del DNI/NIF no es correcto'}}
else if(this.type=='email'){if(!/^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i.test(this.value)){mensaje='No es una dirección de correo electrónico válida'}}}
return mensaje}